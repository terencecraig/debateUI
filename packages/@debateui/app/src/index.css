@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   DEBATE UI - CLEAN, MODERN, INTELLIGENT
   Professional, approachable, smart assistant feel
   ============================================ */

@layer base {
  :root {
    /* Clean neutral palette */
    --color-bg: 250 250 252;
    --color-surface: 255 255 255;
    --color-border: 229 231 235;
    --color-border-light: 243 244 246;

    /* Text hierarchy */
    --color-text: 17 24 39;
    --color-text-secondary: 107 114 128;
    --color-text-muted: 156 163 175;

    /* Primary: Deep blue - trust, intelligence */
    --color-primary: 79 70 229;
    --color-primary-light: 99 102 241;
    --color-primary-bg: 238 242 255;

    /* Success: Green - accuracy, correctness */
    --color-success: 16 185 129;
    --color-success-bg: 236 253 245;

    /* Warning: Amber - budget conscious */
    --color-warning: 245 158 11;
    --color-warning-bg: 255 251 235;

    /* Agent colors - subtle, professional */
    --color-claude: 139 92 246;
    --color-gpt: 34 197 94;
    --color-gemini: 59 130 246;
    --color-deepseek: 236 72 153;
    --color-human: 249 115 22;
  }

  /* Dark mode */
  .dark {
    --color-bg: 17 24 39;
    --color-surface: 31 41 55;
    --color-border: 55 65 81;
    --color-border-light: 75 85 99;

    --color-text: 249 250 251;
    --color-text-secondary: 156 163 175;
    --color-text-muted: 107 114 128;

    --color-primary-bg: 49 46 129;
    --color-success-bg: 6 78 59;
    --color-warning-bg: 120 53 15;
  }

  html {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background: rgb(var(--color-bg));
    color: rgb(var(--color-text));
  }

  body {
    min-height: 100vh;
  }

  /* Smooth scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgb(var(--color-border));
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--color-text-muted));
  }
}

@layer components {
  /* Card - clean, elevated surface */
  .card {
    @apply rounded-2xl border;
    background: rgb(var(--color-surface));
    border-color: rgb(var(--color-border));
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.05);
  }

  .card-elevated {
    @apply card;
    box-shadow:
      0 4px 6px -1px rgb(0 0 0 / 0.05),
      0 2px 4px -2px rgb(0 0 0 / 0.05);
  }

  /* Primary button */
  .btn-primary {
    @apply px-6 py-3 rounded-xl font-semibold text-white transition-all duration-200;
    background: rgb(var(--color-primary));
  }

  .btn-primary:hover:not(:disabled) {
    background: rgb(var(--color-primary-light));
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgb(var(--color-primary) / 0.25);
  }

  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Secondary button */
  .btn-secondary {
    @apply px-6 py-3 rounded-xl font-semibold transition-all duration-200 border;
    background: rgb(var(--color-surface));
    border-color: rgb(var(--color-border));
    color: rgb(var(--color-text));
  }

  .btn-secondary:hover:not(:disabled) {
    background: rgb(var(--color-bg));
    border-color: rgb(var(--color-primary) / 0.3);
  }

  /* Goal selection cards */
  .goal-card {
    @apply card p-6 cursor-pointer transition-all duration-200 relative overflow-hidden;
  }

  .goal-card:hover {
    border-color: rgb(var(--color-primary) / 0.3);
    transform: translateY(-2px);
    box-shadow: 0 8px 16px -4px rgb(0 0 0 / 0.1);
  }

  .goal-card.selected {
    border-color: rgb(var(--color-primary));
    background: rgb(var(--color-primary-bg));
  }

  .goal-card.selected::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-1;
    background: rgb(var(--color-primary));
  }

  /* Agent chip */
  .agent-chip {
    @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium;
    background: var(--agent-color-bg);
    color: var(--agent-color);
  }

  .agent-chip.claude {
    --agent-color: rgb(var(--color-claude));
    --agent-color-bg: rgb(var(--color-claude) / 0.1);
  }

  .agent-chip.gpt {
    --agent-color: rgb(var(--color-gpt));
    --agent-color-bg: rgb(var(--color-gpt) / 0.1);
  }

  .agent-chip.gemini {
    --agent-color: rgb(var(--color-gemini));
    --agent-color-bg: rgb(var(--color-gemini) / 0.1);
  }

  .agent-chip.deepseek {
    --agent-color: rgb(var(--color-deepseek));
    --agent-color-bg: rgb(var(--color-deepseek) / 0.1);
  }

  /* Input styling */
  .input-large {
    @apply w-full px-6 py-4 text-lg rounded-2xl border transition-all duration-200;
    background: rgb(var(--color-surface));
    border-color: rgb(var(--color-border));
    color: rgb(var(--color-text));
  }

  .input-large:focus {
    @apply outline-none;
    border-color: rgb(var(--color-primary));
    box-shadow: 0 0 0 4px rgb(var(--color-primary) / 0.1);
  }

  .input-large::placeholder {
    color: rgb(var(--color-text-muted));
  }

  /* Category badge */
  .category-badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-sm font-medium;
    background: rgb(var(--color-primary-bg));
    color: rgb(var(--color-primary));
  }

  /* Recommendation card */
  .recommendation-card {
    @apply card-elevated p-6 space-y-4;
  }

  .recommendation-card .agent-row {
    @apply flex items-center justify-between py-3 border-b last:border-0;
    border-color: rgb(var(--color-border-light));
  }

  /* Progress steps */
  .step-indicator {
    @apply flex items-center gap-3;
  }

  .step-dot {
    @apply w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all;
  }

  .step-dot.active {
    background: rgb(var(--color-primary));
    color: white;
  }

  .step-dot.completed {
    background: rgb(var(--color-success));
    color: white;
  }

  .step-dot.pending {
    background: rgb(var(--color-border));
    color: rgb(var(--color-text-muted));
  }

  .step-line {
    @apply flex-1 h-0.5;
    background: rgb(var(--color-border));
  }

  .step-line.completed {
    background: rgb(var(--color-success));
  }

  /* Message bubble */
  .message-bubble {
    @apply rounded-2xl px-5 py-4 max-w-[80%];
  }

  .message-bubble.assistant {
    @apply rounded-tl-md;
    background: rgb(var(--color-surface));
    border: 1px solid rgb(var(--color-border));
  }

  .message-bubble.user {
    @apply rounded-tr-md ml-auto;
    background: rgb(var(--color-primary));
    color: white;
  }

  /* Metric display */
  .metric {
    @apply text-center p-4;
  }

  .metric-value {
    @apply text-2xl font-bold;
    color: rgb(var(--color-text));
  }

  .metric-label {
    @apply text-sm mt-1;
    color: rgb(var(--color-text-muted));
  }

  /* Explanation box */
  .explanation-box {
    @apply rounded-xl p-4 text-sm;
    background: rgb(var(--color-primary-bg));
    color: rgb(var(--color-primary));
  }

  .explanation-box.success {
    background: rgb(var(--color-success-bg));
    color: rgb(var(--color-success));
  }

  .explanation-box.warning {
    background: rgb(var(--color-warning-bg));
    color: rgb(var(--color-warning));
  }

  /* Typing animation */
  .typing-dots {
    @apply flex gap-1;
  }

  .typing-dots span {
    @apply w-2 h-2 rounded-full;
    background: rgb(var(--color-primary));
    animation: bounce 1.4s infinite ease-in-out;
  }

  .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
  .typing-dots span:nth-child(2) { animation-delay: -0.16s; }

  @keyframes bounce {
    0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
    40% { transform: scale(1); opacity: 1; }
  }

  /* Fade in animation */
  .fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Slide up animation */
  .slide-up {
    animation: slideUp 0.4s ease-out;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
}

@layer utilities {
  .text-primary { color: rgb(var(--color-primary)); }
  .text-secondary { color: rgb(var(--color-text-secondary)); }
  .text-muted { color: rgb(var(--color-text-muted)); }
  .bg-surface { background: rgb(var(--color-surface)); }
  .bg-primary-light { background: rgb(var(--color-primary-bg)); }
  .border-light { border-color: rgb(var(--color-border-light)); }
}

/* ============================================
   MISSION CONTROL - DENSE EVENT STREAM UI
   ============================================ */

.mission-control {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

.mission-control .event-log {
  background: rgb(15 23 42);
}

.mission-control .event-line {
  border-bottom: 1px solid rgb(30 41 59 / 0.5);
}

.mission-control .event-line:hover {
  background: rgb(30 41 59 / 0.3);
}

.mission-control .turn-card {
  background: rgb(30 41 59 / 0.3);
  border-radius: 0.375rem;
}

.mission-control .turn-card:hover {
  background: rgb(30 41 59 / 0.5);
}

.mission-control .agent-status-card {
  transition: background 0.15s ease;
}

.mission-control .agent-status-card:hover {
  background: rgb(51 65 85 / 0.5);
}

/* Dense typing animation for mission control */
.mission-control .typing-dots span {
  @apply w-1.5 h-1.5;
  background: rgb(34 197 94);
}

/* Status indicator pulse */
@keyframes status-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.mission-control .status-live span:first-child {
  animation: status-pulse 1s ease-in-out infinite;
}

/* Scrollbar for mission control */
.mission-control ::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.mission-control ::-webkit-scrollbar-track {
  background: rgb(15 23 42);
}

.mission-control ::-webkit-scrollbar-thumb {
  background: rgb(51 65 85);
  border-radius: 2px;
}

.mission-control ::-webkit-scrollbar-thumb:hover {
  background: rgb(71 85 105);
}
